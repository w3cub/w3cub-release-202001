
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Float - Elixir 1.9 - W3cubDocs</title>
  
  <meta name="description" content=" Functions for working with floating-point numbers. ">
  <meta name="keywords" content="float, summary, types, precision, range, functions, ceil, number, floor, parse, binary, ratio, round, charlist, string, -, elixir, elixir~1.9">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/elixir~1.9/float/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" integrity="sha256-6/DH7X+2hvUPElJfGsvzm+tgIpmM9zjbYxnpsr6gR1A=" crossorigin="anonymous" href="/assets/application-ebf0c7ed7fb686f50f12525f1acbf39beb6022998cf738db6319e9b2bea04750.css">
  <script type="text/javascript" src="/assets/application-db285287b40ed28fac520fcfd75d7d874692b647b5b5e05968c741dda5de4148.js" integrity="sha256-2yhSh7QO0o+sUg/P1119h0aStke1teBZaMdB3aXeQUg=" crossorigin="anonymous"></script>
  <script src="/json/elixir~1.9.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-2572770204602497",
            enable_page_level_ads: true
        });
  </script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/elixir~1.9/" class="_nav-link" title="" style="margin-left:0;">Elixir 1.9</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _elixir">
				
				
<h1>  Float  </h1>  <p>Functions for working with floating-point numbers.</p> <h2 id="module-kernel-functions" class="section-heading">  Kernel functions </h2> <p>There are functions related to floating-point numbers on the <a href="../kernel/"><code class="inline">Kernel</code></a> module too. Here is a list of them:</p> <ul> <li>
<a href="../kernel/#round/1"><code class="inline">Kernel.round/1</code></a>: rounds a number to the nearest integer. </li> <li>
<a href="../kernel/#trunc/1"><code class="inline">Kernel.trunc/1</code></a>: returns the integer part of a number. </li> </ul> <h2 id="module-known-issues" class="section-heading">  Known issues </h2> <p>There are some very well known problems with floating-point numbers and arithmetics due to the fact most decimal fractions cannot be represented by a floating-point binary and most operations are not exact, but operate on approximations. Those issues are not specific to Elixir, they are a property of floating point representation itself.</p> <p>For example, the numbers 0.1 and 0.01 are two of them, what means the result of squaring 0.1 does not give 0.01 neither the closest representable. Here is what happens in this case:</p> <ul> <li>The closest representable number to 0.1 is 0.1000000014 </li> <li>The closest representable number to 0.01 is 0.0099999997 </li> <li>Doing 0.1 * 0.1 should return 0.01, but because 0.1 is actually 0.1000000014, the result is 0.010000000000000002, and because this is not the closest representable number to 0.01, you'll get the wrong result for this operation </li> </ul> <p>There are also other known problems like flooring or rounding numbers. See <a href="#round/2"><code class="inline">round/2</code></a> and <a href="#floor/2"><code class="inline">floor/2</code></a> for more details about them.</p> <p>To learn more about floating-point arithmetic visit:</p> <ul> <li>
<a href="http://0.30000000000000004.com/" target="_blank">0.30000000000000004.com</a> </li> <li>
<a href="https://floating-point-gui.de/" target="_blank">What Every Programmer Should Know About Floating-Point Arithmetic</a> </li> </ul>   <h1 class="section-heading" id="summary">  Summary </h1> <h2> Types </h2>
<dl class="summary-types summary">   <dt class="summary-signature"> <a href="#t:precision_range/0">precision_range()</a> </dt>  </dl> <h2> Functions </h2>
<dl class="summary-functions summary">   <dt class="summary-signature"> <a href="#ceil/2">ceil(number, precision \\ 0)</a> </dt> <dd class="summary-synopsis"><p>Rounds a float to the smallest integer greater than or equal to <code class="inline">num</code>.</p></dd>   <dt class="summary-signature"> <a href="#floor/2">floor(number, precision \\ 0)</a> </dt> <dd class="summary-synopsis"><p>Rounds a float to the largest number less than or equal to <code class="inline">num</code>.</p></dd>   <dt class="summary-signature"> <a href="#parse/1">parse(binary)</a> </dt> <dd class="summary-synopsis"><p>Parses a binary into a float.</p></dd>   <dt class="summary-signature"> <a href="#ratio/1">ratio(float)</a> </dt> <dd class="summary-synopsis"><p>Returns a pair of integers whose ratio is exactly equal to the original float and with a positive denominator.</p></dd>   <dt class="summary-signature"> <a href="#round/2">round(float, precision \\ 0)</a> </dt> <dd class="summary-synopsis"><p>Rounds a floating-point value to an arbitrary number of fractional digits (between 0 and 15).</p></dd>   <dt class="summary-signature"> <a href="#to_charlist/1">to_charlist(float)</a> </dt> <dd class="summary-synopsis"><p>Returns a charlist which corresponds to the text representation of the given float.</p></dd>   <dt class="summary-signature"> <a href="#to_string/1">to_string(float)</a> </dt> <dd class="summary-synopsis"><p>Returns a binary which corresponds to the text representation of the given float.</p></dd>  </dl>   <h1 class="section-heading" id="types">  Types </h1>   <h3 class="detail-header type" id="t:precision_range/0">  <h1 class="signature">precision_range()</h1>     </h3>
<pre data-language="elixir">precision_range() :: 0..15</pre>       <h1 class="section-heading" id="functions">  Functions </h1>    <h3 class="detail-header function" id="ceil/2">  <h1 class="signature">ceil(number, precision \\ 0)</h1>     </h3>
<pre data-language="elixir">ceil(float(), precision_range()) :: float()</pre>  <p>Rounds a float to the smallest integer greater than or equal to <code class="inline">num</code>.</p> <p><a href="#ceil/2"><code class="inline">ceil/2</code></a> also accepts a precision to round a floating-point value down to an arbitrary number of fractional digits (between 0 and 15).</p> <p>The operation is performed on the binary floating point, without a conversion to decimal.</p> <p>The behaviour of <a href="#ceil/2"><code class="inline">ceil/2</code></a> for floats can be surprising. For example:</p> <pre data-language="elixir">iex&gt; Float.ceil(-12.52, 2)
-12.51</pre> <p>One may have expected it to ceil to -12.52. This is not a bug. Most decimal fractions cannot be represented as a binary floating point and therefore the number above is internally represented as -12.51999999, which explains the behaviour above.</p> <p>This function always returns floats. <a href="../kernel/#trunc/1"><code class="inline">Kernel.trunc/1</code></a> may be used instead to truncate the result to an integer afterwards.</p> <h4 id="ceil/2-examples" class="section-heading">  Examples </h4> <pre data-language="elixir">iex&gt; Float.ceil(34.25)
35.0
iex&gt; Float.ceil(-56.5)
-56.0
iex&gt; Float.ceil(34.251, 2)
34.26</pre>     <h3 class="detail-header function" id="floor/2">  <h1 class="signature">floor(number, precision \\ 0)</h1>     </h3>
<pre data-language="elixir">floor(float(), precision_range()) :: float()</pre>  <p>Rounds a float to the largest number less than or equal to <code class="inline">num</code>.</p> <p><a href="#floor/2"><code class="inline">floor/2</code></a> also accepts a precision to round a floating-point value down to an arbitrary number of fractional digits (between 0 and 15). The operation is performed on the binary floating point, without a conversion to decimal.</p> <p>This function always returns a float. <a href="../kernel/#trunc/1"><code class="inline">Kernel.trunc/1</code></a> may be used instead to truncate the result to an integer afterwards.</p> <h4 id="floor/2-known-issues" class="section-heading">  Known issues </h4> <p>The behaviour of <a href="#floor/2"><code class="inline">floor/2</code></a> for floats can be surprising. For example:</p> <pre data-language="elixir">iex&gt; Float.floor(12.52, 2)
12.51</pre> <p>One may have expected it to floor to 12.52. This is not a bug. Most decimal fractions cannot be represented as a binary floating point and therefore the number above is internally represented as 12.51999999, which explains the behaviour above.</p> <h4 id="floor/2-examples" class="section-heading">  Examples </h4> <pre data-language="elixir">iex&gt; Float.floor(34.25)
34.0
iex&gt; Float.floor(-56.5)
-57.0
iex&gt; Float.floor(34.259, 2)
34.25</pre>    <h3 class="detail-header function" id="parse/1">  <h1 class="signature">parse(binary)</h1>     </h3>
<pre data-language="elixir">parse(binary()) :: {float(), binary()} | :error</pre>  <p>Parses a binary into a float.</p> <p>If successful, returns a tuple in the form of <code class="inline">{float, remainder_of_binary}</code>; when the binary cannot be coerced into a valid float, the atom <code class="inline">:error</code> is returned.</p> <p>If the size of float exceeds the maximum size of <code class="inline">1.7976931348623157e+308</code>, the <a href="../argumenterror/"><code class="inline">ArgumentError</code></a> exception is raised.</p> <p>If you want to convert a string-formatted float directly to a float, <a href="../string/#to_float/1"><code class="inline">String.to_float/1</code></a> can be used instead.</p> <h4 id="parse/1-examples" class="section-heading">  Examples </h4> <pre data-language="elixir">iex&gt; Float.parse("34")
{34.0, ""}
iex&gt; Float.parse("34.25")
{34.25, ""}
iex&gt; Float.parse("56.5xyz")
{56.5, "xyz"}

iex&gt; Float.parse("pi")
:error</pre>    <h3 class="detail-header function" id="ratio/1">  <h1 class="signature">ratio(float)</h1>  <span class="note">(since 1.4.0)</span>    </h3>
<pre data-language="elixir">ratio(float()) :: {integer(), pos_integer()}</pre>  <p>Returns a pair of integers whose ratio is exactly equal to the original float and with a positive denominator.</p> <h4 id="ratio/1-examples" class="section-heading">  Examples </h4> <pre data-language="elixir">iex&gt; Float.ratio(0.0)
{0, 1}
iex&gt; Float.ratio(3.14)
{7070651414971679, 2251799813685248}
iex&gt; Float.ratio(-3.14)
{-7070651414971679, 2251799813685248}
iex&gt; Float.ratio(1.5)
{3, 2}
iex&gt; Float.ratio(-1.5)
{-3, 2}
iex&gt; Float.ratio(16.0)
{16, 1}
iex&gt; Float.ratio(-16.0)
{-16, 1}</pre>     <h3 class="detail-header function" id="round/2">  <h1 class="signature">round(float, precision \\ 0)</h1>     </h3>
<pre data-language="elixir">round(float(), precision_range()) :: float()</pre>  <p>Rounds a floating-point value to an arbitrary number of fractional digits (between 0 and 15).</p> <p>The rounding direction always ties to half up. The operation is performed on the binary floating point, without a conversion to decimal.</p> <p>This function only accepts floats and always returns a float. Use <a href="../kernel/#round/1"><code class="inline">Kernel.round/1</code></a> if you want a function that accepts both floats and integers and always returns an integer.</p> <h4 id="round/2-known-issues" class="section-heading">  Known issues </h4> <p>The behaviour of <a href="#round/2"><code class="inline">round/2</code></a> for floats can be surprising. For example:</p> <pre data-language="elixir">iex&gt; Float.round(5.5675, 3)
5.567</pre> <p>One may have expected it to round to the half up 5.568. This is not a bug. Most decimal fractions cannot be represented as a binary floating point and therefore the number above is internally represented as 5.567499999, which explains the behaviour above. If you want exact rounding for decimals, you must use a decimal library. The behaviour above is also in accordance to reference implementations, such as "Correctly Rounded Binary-Decimal and Decimal-Binary Conversions" by David M. Gay.</p> <h4 id="round/2-examples" class="section-heading">  Examples </h4> <pre data-language="elixir">iex&gt; Float.round(12.5)
13.0
iex&gt; Float.round(5.5674, 3)
5.567
iex&gt; Float.round(5.5675, 3)
5.567
iex&gt; Float.round(-5.5674, 3)
-5.567
iex&gt; Float.round(-5.5675)
-6.0
iex&gt; Float.round(12.341444444444441, 15)
12.341444444444441</pre>    <h3 class="detail-header function" id="to_charlist/1">  <h1 class="signature">to_charlist(float)</h1>     </h3>
<pre data-language="elixir">to_charlist(float()) :: charlist()</pre>  <p>Returns a charlist which corresponds to the text representation of the given float.</p> <p>It uses the shortest representation according to algorithm described in "Printing Floating-Point Numbers Quickly and Accurately" in Proceedings of the SIGPLAN '96 Conference on Programming Language Design and Implementation.</p> <h4 id="to_charlist/1-examples" class="section-heading">  Examples </h4> <pre data-language="elixir">iex&gt; Float.to_charlist(7.0)
'7.0'</pre>    <h3 class="detail-header function" id="to_string/1">  <h1 class="signature">to_string(float)</h1>     </h3>
<pre data-language="elixir">to_string(float()) :: String.t()</pre>  <p>Returns a binary which corresponds to the text representation of the given float.</p> <p>It uses the shortest representation according to algorithm described in "Printing Floating-Point Numbers Quickly and Accurately" in Proceedings of the SIGPLAN '96 Conference on Programming Language Design and Implementation.</p> <h4 id="to_string/1-examples" class="section-heading">  Examples </h4> <pre data-language="elixir">iex&gt; Float.to_string(7.0)
"7.0"</pre>
<div class="_attribution">
  <p class="_attribution-p">
    Â© 2012 Plataformatec<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://hexdocs.pm/elixir/1.9.1/Float.html" class="_attribution-link" target="_blank">https://hexdocs.pm/elixir/1.9.1/Float.html</a>
  </p>
</div>

				
			</div>
			<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
</amp-auto-ads>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>


<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Smiley Helper - CodeIgniter 3 - W3cubDocs</title>
  
  <meta name="description" content=" The Smiley Helper file contains functions that let you manage smileys (emoticons). ">
  <meta name="keywords" content="smiley, helper, -, codeigniter, codeigniter~3">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/codeigniter~3/helpers/smiley_helper/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" integrity="sha256-6/DH7X+2hvUPElJfGsvzm+tgIpmM9zjbYxnpsr6gR1A=" crossorigin="anonymous" href="/assets/application-ebf0c7ed7fb686f50f12525f1acbf39beb6022998cf738db6319e9b2bea04750.css">
  <script type="text/javascript" src="/assets/application-db285287b40ed28fac520fcfd75d7d874692b647b5b5e05968c741dda5de4148.js" integrity="sha256-2yhSh7QO0o+sUg/P1119h0aStke1teBZaMdB3aXeQUg=" crossorigin="anonymous"></script>
  <script src="/json/codeigniter~3.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-2572770204602497",
            enable_page_level_ads: true
        });
  </script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/codeigniter~3/" class="_nav-link" title="" style="margin-left:0;">CodeIgniter 3</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _sphinx">
				
				
<h1 id="smiley-helper">Smiley Helper</h1> <p>The Smiley Helper file contains functions that let you manage smileys (emoticons).</p> <div class="admonition important"> <p class="first admonition-title">Important</p> <p class="last">The Smiley helper is DEPRECATED and should not be used. It is currently only kept for backwards compatibility.</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#loading-this-helper" id="id1">Loading this Helper</a></li> <li><a class="reference internal" href="#overview" id="id2">Overview</a></li> <li>
<a class="reference internal" href="#clickable-smileys-tutorial" id="id3">Clickable Smileys Tutorial</a><ul> <li><a class="reference internal" href="#the-controller" id="id4">The Controller</a></li> <li><a class="reference internal" href="#field-aliases" id="id5">Field Aliases</a></li> </ul> </li> <li><a class="reference internal" href="#available-functions" id="id6">Available Functions</a></li> </ul>   <h2 id="loading-this-helper">Loading this Helper</h2> <p>This helper is loaded using the following code:</p> <pre data-language="php">$this-&gt;load-&gt;helper('smiley');
</pre>   <h2 id="overview">Overview</h2> <p>The Smiley helper has a renderer that takes plain text smileys, like :-) and turns them into a image representation, like <img alt="smile!" src="data:image/gif;base64,R0lGODlhEwATAPcAAP/+//7/////+////fvzYvryYvvzZ/fxg/zxWfvxW/zwXPrtW/vxXvfrXv3xYvrvYvntYvnvY/ruZPrwZPfsZPjsZfjtZvfsZvHmY/zxavftaPrvavjuafzxbfnua/jta/ftbP3yb/zzcPvwb/zzcfvxcfzxc/3zdf3zdv70efvwd/rwd/vwefftd/3yfPvxfP70f/zzfvnwffvzf/rxf/rxgPjvgPjvgfnwhPvzhvjvhv71jfz0kPrykvz0mv72nvblTPnnUPjoUPrpUvnnUfnpUvXlUfnpU/npVPnqVPfnU/3uVvvsWPfpVvnqWfrrXPLiW/nrX/vtYv7xavrta/Hlcvnuf/Pphvbsif3zk/zzlPzylfjuk/z0o/LqnvbhSPbhSfjiS/jlS/jjTPfhTfjlTubUU+/iiPPokfrvl/Dll/ftovLWPfHXPvHZP/PbQ/bcRuDJP/PaRvjgSffdSe3ddu7fge7fi+zkuO7NMvPTOt2/Nu7SO+3OO/PWQdnGbOneqeneqvDqyu3JMuvJMu7KNfHNON7GZdnEbejanObXnOW8JOa9KOvCLOnBK9+4Ku3FL9ayKuzEMcenK9e+XODOiePSkODOkOW3ItisI9yxL+a9NtGiHr+VH5h5JsSfNM2bGN6rMJt4JMOYL5h4JZl5Jph3Jpl4J5h5J5h3KJl4KZp5Ks+sUN7Gi96lLL+PKMmbMZt2Jpp3Jpt3KZl4K7qFFdyiKdufKsedRdm7feOpQN2QKMKENrpvJbFfIrNjJL1mLMBpLr9oLrFhK69bJFkpE1kpFYNeTqFEIlsoFbmlnlsmFFwpGFkoF/////7+/v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAANAALAAAAAATABMAAAj/AKEJHCgokKJKlhThGciQYSIva7r8SHPFzqGGAwPd4bKlh5YsPKy0qFLnT0NAaHTcsIHDho0aKkaAwGCGEkM1NmSkIjWLBosVJT6cOjUrzsBKPl54KmYsACoTMmk1WwaA1CRoeM7siJEqmTIAsjp40ICK2bEApfZcsoQlxwxRzgI8W8XhgoVYA+Kq6sMK0QEYKVCUkoVqQwQJFTwFEAAAFZ9PlFy4OEEiRIYJD55EodDA1ClTbPp0okRFxBQDBRgskAKhiRMlc+Sw4SNpFCIoBBwkUMBkCBIiY8qAgcPG0KBHrBTFQbCEV5EjQYQACfNFjp5CgxpxagVtUhIjwzaJYSHzhQ4cP3ryQHLEqJbASnu+6EIW6o2b2X0ISXK0CFSugazs0YYmwQhziyuE2PLLIv3h0hArkRhiCCzAENOLL7tgAoqDGLXSSSaPMLIIJpmAUst/GA3UCiuv1PIKLtw1FBAAOw=="></p> <p>It also lets you display a set of smiley images that when clicked will be inserted into a form field. For example, if you have a blog that allows user commenting you can show the smileys next to the comment form. Your users can click a desired smiley and with the help of some JavaScript it will be placed into the form field.</p>   <h2 id="clickable-smileys-tutorial">Clickable Smileys Tutorial</h2> <p>Here is an example demonstrating how you might create a set of clickable smileys next to a form field. This example requires that you first download and install the smiley images, then create a controller and the View as described.</p> <div class="admonition important"> <p class="first admonition-title">Important</p> <p class="last">Before you begin, please <a class="reference external" href="https://ellislab.com/asset/ci_download_files/smileys.zip" target="_blank">download the smiley images</a> and put them in a publicly accessible place on your server. This helper also assumes you have the smiley replacement array located at <code>application/config/smileys.php</code></p> </div>  <h3 id="the-controller">The Controller</h3> <p>In your <strong>application/controllers/</strong> directory, create a file called Smileys.php and place the code below in it.</p> <div class="admonition important"> <p class="first admonition-title">Important</p> <p class="last">Change the URL in the <a class="reference internal" href="#get_clickable_smileys" title="get_clickable_smileys"><code>get_clickable_smileys()</code></a> function below so that it points to your smiley folder.</p> </div> <p>You’ll notice that in addition to the smiley helper, we are also using the <a class="reference internal" href="../../libraries/table/"><span class="doc">Table Class</span></a>:</p> <pre data-language="php">&lt;?php

class Smileys extends CI_Controller {

        public function index()
        {
                $this-&gt;load-&gt;helper('smiley');
                $this-&gt;load-&gt;library('table');

                $image_array = get_clickable_smileys('http://example.com/images/smileys/', 'comments');
                $col_array = $this-&gt;table-&gt;make_columns($image_array, 8);

                $data['smiley_table'] = $this-&gt;table-&gt;generate($col_array);
                $this-&gt;load-&gt;view('smiley_view', $data);
        }

}
</pre> <p>In your <strong>application/views/</strong> directory, create a file called <strong>smiley_view.php</strong> and place this code in it:</p> <pre data-language="php">&lt;html&gt;
        &lt;head&gt;
                &lt;title&gt;Smileys&lt;/title&gt;
                &lt;?php echo smiley_js(); ?&gt;
        &lt;/head&gt;
        &lt;body&gt;
                &lt;form name="blog"&gt;
                        &lt;textarea name="comments" id="comments" cols="40" rows="4"&gt;&lt;/textarea&gt;
                &lt;/form&gt;
                &lt;p&gt;Click to insert a smiley!&lt;/p&gt;
                &lt;?php echo $smiley_table; ?&gt; &lt;/body&gt; &lt;/html&gt;
                When you have created the above controller and view, load it by visiting http://www.example.com/index.php/smileys/
        &lt;/body&gt;
&lt;/html&gt;
</pre>   <h3 id="field-aliases">Field Aliases</h3> <p>When making changes to a view it can be inconvenient to have the field id in the controller. To work around this, you can give your smiley links a generic name that will be tied to a specific id in your view.</p> <pre data-language="php">$image_array = get_smiley_links("http://example.com/images/smileys/", "comment_textarea_alias");
</pre> <p>To map the alias to the field id, pass them both into the <code>smiley_js()</code> function:</p> <pre data-language="php">$image_array = smiley_js("comment_textarea_alias", "comments");
</pre>    <h2 id="available-functions">Available Functions</h2> <dl class="function"> <dt id="get_clickable_smileys">
<code>get_clickable_smileys($image_url[, $alias = ''[, $smileys = NULL]])</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$image_url</strong> (<em>string</em>) – URL path to the smileys directory</li> <li>
<strong>$alias</strong> (<em>string</em>) – Field alias</li> </ul> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">An array of ready to use smileys</p> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">array</p> </td> </tr>  </table> <p>Returns an array containing your smiley images wrapped in a clickable link. You must supply the URL to your smiley folder and a field id or field alias.</p> <p>Example:</p> <pre data-language="php">$image_array = get_clickable_smileys('http://example.com/images/smileys/', 'comment');
</pre> </dd>
</dl> <dl class="function"> <dt id="smiley_js">
<code>smiley_js([$alias = ''[, $field_id = ''[, $inline = TRUE]]])</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$alias</strong> (<em>string</em>) – Field alias</li> <li>
<strong>$field_id</strong> (<em>string</em>) – Field ID</li> <li>
<strong>$inline</strong> (<em>bool</em>) – Whether we’re inserting an inline smiley</li> </ul> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">Smiley-enabling JavaScript code</p> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">string</p> </td> </tr>  </table> <p>Generates the JavaScript that allows the images to be clicked and inserted into a form field. If you supplied an alias instead of an id when generating your smiley links, you need to pass the alias and corresponding form id into the function. This function is designed to be placed into the &lt;head&gt; area of your web page.</p> <p>Example:</p> <pre data-language="php">&lt;?php echo smiley_js(); ?&gt;
</pre> </dd>
</dl> <dl class="function"> <dt id="parse_smileys">
<code>parse_smileys([$str = ''[, $image_url = ''[, $smileys = NULL]]])</code> </dt> <dd>
<table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>$str</strong> (<em>string</em>) – Text containing smiley codes</li> <li>
<strong>$image_url</strong> (<em>string</em>) – URL path to the smileys directory</li> <li>
<strong>$smileys</strong> (<em>array</em>) – An array of smileys</li> </ul> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">Parsed smileys</p> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">string</p> </td> </tr>  </table> <p>Takes a string of text as input and replaces any contained plain text smileys into the image equivalent. The first parameter must contain your string, the second must contain the URL to your smiley folder</p> <p>Example:</p> <pre data-language="php">$str = 'Here are some smileys: :-)  ;-)';
$str = parse_smileys($str, 'http://example.com/images/smileys/');
echo $str;
</pre> </dd>
</dl>
<div class="_attribution">
  <p class="_attribution-p">
    © 2014–2018 British Columbia Institute of Technology<br>Licensed under the MIT License.<br>
    <a href="https://www.codeigniter.com/user_guide/helpers/smiley_helper.html" class="_attribution-link" target="_blank">https://www.codeigniter.com/user_guide/helpers/smiley_helper.html</a>
  </p>
</div>

				
			</div>
			<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
</amp-auto-ads>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
